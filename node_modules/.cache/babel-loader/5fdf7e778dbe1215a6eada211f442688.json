{"ast":null,"code":"import _classCallCheck from\"/Users/cedrickmonesit/Desktop/movie-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/cedrickmonesit/Desktop/movie-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/cedrickmonesit/Desktop/movie-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/cedrickmonesit/Desktop/movie-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/cedrickmonesit/Desktop/movie-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from\"react\";import{connect}from\"react-redux\";import\"./login.scss\";import wordLogo from\"../../images/word-logo.png\";import ImageCarousel from\"../carousel/ImageCarousel\";import\"../carousel/imageCarousel.scss\";import{fetchNowPlaying,fetchGenres,createSignInToken}from\"../../actions\";import history from\"../../history\";//login page\nvar Login=/*#__PURE__*/function(_React$Component){_inherits(Login,_React$Component);function Login(){var _getPrototypeOf2;var _this;_classCallCheck(this,Login);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Login)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.onClickSignIn=function(){_this.props.createSignInToken();_this.onClickNavToApproval();};_this.onClickNavToApproval=function(){history.push(\"/user/approval\");};return _this;}_createClass(Login,[{key:\"componentDidMount\",//need to fetch the data of genres and nowplaying movies\nvalue:function componentDidMount(){this.props.fetchNowPlaying();this.props.fetchGenres();window.scrollTo(0,0);}//user will automaticall navigate to approval component once redirected to user approval of the token created\n//if token is denied by user, approval page will not be able to create a session\n},{key:\"render\",//login is reusing the imagecarousel component resized\nvalue:function render(){return React.createElement(\"div\",{className:\"main-signin\"},React.createElement(\"div\",{className:\"main-signin-container\"},React.createElement(\"header\",{className:\"main-signin-header\"},React.createElement(\"img\",{className:\"main-signin-word-logo\",src:wordLogo,alt:\"Film Flix Word Logo\"}),React.createElement(\"h1\",null,\"Sign In\"),React.createElement(\"p\",null,\"Film Flix\")),React.createElement(\"div\",{className:\"main-signin-buttons\"},React.createElement(\"button\",{className:\"main-signin-button\",onClick:this.onClickSignIn},\"Sign In\"),React.createElement(\"div\",{className:\"main-signin-content\"},React.createElement(\"p\",null,\"Signing in will redirect you to the TMDB website to sign into your TMDB account or create an account through the TMDB website.\")))),React.createElement(\"div\",{className:\"main-signin-image-carousel\"},React.createElement(ImageCarousel,{movies:this.props.nowPlaying,genres:this.props.genres,title:\"Now Playing\"})));}}]);return Login;}(React.Component);//getting the nowplaying movies and genres for each movie\nvar mapStateToProps=function mapStateToProps(state){return{nowPlaying:state.nowPlayingData.results,genres:state.genresData.genres,token:state.signInToken};};export default connect(mapStateToProps,{fetchNowPlaying:fetchNowPlaying,fetchGenres:fetchGenres,createSignInToken:createSignInToken})(Login);","map":{"version":3,"sources":["/Users/cedrickmonesit/Desktop/movie-app/src/components/login/Login.js"],"names":["React","connect","wordLogo","ImageCarousel","fetchNowPlaying","fetchGenres","createSignInToken","history","Login","onClickSignIn","props","onClickNavToApproval","push","window","scrollTo","nowPlaying","genres","Component","mapStateToProps","state","nowPlayingData","results","genresData","token","signInToken"],"mappings":"gnBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,OAAT,KAAwB,aAAxB,CAEA,MAAO,cAAP,CACA,MAAOC,CAAAA,QAAP,KAAqB,4BAArB,CACA,MAAOC,CAAAA,aAAP,KAA0B,2BAA1B,CACA,MAAO,gCAAP,CACA,OAASC,eAAT,CAA0BC,WAA1B,CAAuCC,iBAAvC,KAAgE,eAAhE,CACA,MAAOC,CAAAA,OAAP,KAAoB,eAApB,CAEA;GACMC,CAAAA,K,uYAUJC,a,CAAgB,UAAM,CACpB,MAAKC,KAAL,CAAWJ,iBAAX,GACA,MAAKK,oBAAL,GACD,C,OAIDA,oB,CAAuB,UAAM,CAC3BJ,OAAO,CAACK,IAAR,CAAa,gBAAb,EACD,C,4DAlBD;kCACoB,CAClB,KAAKF,KAAL,CAAWN,eAAX,GACA,KAAKM,KAAL,CAAWL,WAAX,GACAQ,MAAM,CAACC,QAAP,CAAgB,CAAhB,CAAmB,CAAnB,EACD,CAED;AACA;gBAYA;uBACS,CACP,MACE,4BAAK,SAAS,CAAC,aAAf,EACE,2BAAK,SAAS,CAAC,uBAAf,EACE,8BAAQ,SAAS,CAAC,oBAAlB,EACE,2BACE,SAAS,CAAC,uBADZ,CAEE,GAAG,CAAEZ,QAFP,CAGE,GAAG,CAAC,qBAHN,EADF,CAME,wCANF,CAOE,yCAPF,CADF,CAUE,2BAAK,SAAS,CAAC,qBAAf,EACE,8BAAQ,SAAS,CAAC,oBAAlB,CAAuC,OAAO,CAAE,KAAKO,aAArD,YADF,CAIE,2BAAK,SAAS,CAAC,qBAAf,EACE,8JADF,CAJF,CAVF,CADF,CAwBE,2BAAK,SAAS,CAAC,4BAAf,EACE,oBAAC,aAAD,EACE,MAAM,CAAE,KAAKC,KAAL,CAAWK,UADrB,CAEE,MAAM,CAAE,KAAKL,KAAL,CAAWM,MAFrB,CAGE,KAAK,CAAC,aAHR,EADF,CAxBF,CADF,CAkCD,C,mBAzDiBhB,KAAK,CAACiB,S,EA4D1B;AACA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,KAAD,CAAW,CACjC,MAAO,CACLJ,UAAU,CAAEI,KAAK,CAACC,cAAN,CAAqBC,OAD5B,CAELL,MAAM,CAAEG,KAAK,CAACG,UAAN,CAAiBN,MAFpB,CAGLO,KAAK,CAAEJ,KAAK,CAACK,WAHR,CAAP,CAKD,CAND,CAQA,cAAevB,CAAAA,OAAO,CAACiB,eAAD,CAAkB,CACtCd,eAAe,CAAfA,eADsC,CAEtCC,WAAW,CAAXA,WAFsC,CAGtCC,iBAAiB,CAAjBA,iBAHsC,CAAlB,CAAP,CAIZE,KAJY,CAAf","sourcesContent":["import React from \"react\";\nimport { connect } from \"react-redux\";\n\nimport \"./login.scss\";\nimport wordLogo from \"../../images/word-logo.png\";\nimport ImageCarousel from \"../carousel/ImageCarousel\";\nimport \"../carousel/imageCarousel.scss\";\nimport { fetchNowPlaying, fetchGenres, createSignInToken } from \"../../actions\";\nimport history from \"../../history\";\n\n//login page\nclass Login extends React.Component {\n  //need to fetch the data of genres and nowplaying movies\n  componentDidMount() {\n    this.props.fetchNowPlaying();\n    this.props.fetchGenres();\n    window.scrollTo(0, 0);\n  }\n\n  //user will automaticall navigate to approval component once redirected to user approval of the token created\n  //if token is denied by user, approval page will not be able to create a session\n  onClickSignIn = () => {\n    this.props.createSignInToken();\n    this.onClickNavToApproval();\n  };\n\n  //this function is used to navigate to approval component using React Router\n  //approval component will create session if user approves the token\n  onClickNavToApproval = () => {\n    history.push(\"/user/approval\");\n  };\n\n  //login is reusing the imagecarousel component resized\n  render() {\n    return (\n      <div className=\"main-signin\">\n        <div className=\"main-signin-container\">\n          <header className=\"main-signin-header\">\n            <img\n              className=\"main-signin-word-logo\"\n              src={wordLogo}\n              alt=\"Film Flix Word Logo\"\n            />\n            <h1>Sign In</h1>\n            <p>Film Flix</p>\n          </header>\n          <div className=\"main-signin-buttons\">\n            <button className=\"main-signin-button\" onClick={this.onClickSignIn}>\n              Sign In\n            </button>\n            <div className=\"main-signin-content\">\n              <p>\n                Signing in will redirect you to the TMDB website to sign into\n                your TMDB account or create an account through the TMDB website.\n              </p>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"main-signin-image-carousel\">\n          <ImageCarousel\n            movies={this.props.nowPlaying}\n            genres={this.props.genres}\n            title=\"Now Playing\"\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\n//getting the nowplaying movies and genres for each movie\nconst mapStateToProps = (state) => {\n  return {\n    nowPlaying: state.nowPlayingData.results,\n    genres: state.genresData.genres,\n    token: state.signInToken,\n  };\n};\n\nexport default connect(mapStateToProps, {\n  fetchNowPlaying,\n  fetchGenres,\n  createSignInToken,\n})(Login);\n"]},"metadata":{},"sourceType":"module"}