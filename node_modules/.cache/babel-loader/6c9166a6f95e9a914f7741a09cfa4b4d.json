{"ast":null,"code":"import _classCallCheck from\"/Users/cedrickmonesit/Documents/GitHub/film-flix-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/cedrickmonesit/Documents/GitHub/film-flix-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/cedrickmonesit/Documents/GitHub/film-flix-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/cedrickmonesit/Documents/GitHub/film-flix-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{connect}from\"react-redux\";import{FaStar,FaRegStar,FaHeart}from\"react-icons/fa\";import Rating from\"react-rating\";import{fetchMovieDetails,fetchCredits,fetchTrailers,fetchSimilarMovies,fetchGenres,postFavorite}from\"../../actions\";import\"./movieDetails.scss\";import TrailersCarousel from\"./trailerscarousel/TrailersCarousel.js\";import PeopleCarousel from\"./peoplecarousel/PeopleCarousel\";import Carousel from\"../carousel/Carousel\";import renderMovieGenres from\"../renderMovieGenres\";//import Loader from \"../loader/Loader\";\nvar MovieDetails=/*#__PURE__*/function(_React$Component){_inherits(MovieDetails,_React$Component);var _super=_createSuper(MovieDetails);function MovieDetails(){var _this;_classCallCheck(this,MovieDetails);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.onClickAddToFavorites=function(){var id=_this.props.match.params.id;//post action creator to add to favorite movies list\n_this.props.postFavorite(id,\"movie\",true);//changes color to secondary after clicked\ndocument.querySelector(\".details-fav-heart\").style.color=\"#fe346e\";};_this.renderDetails=function(){if(_this.props.movie){return/*#__PURE__*/React.createElement(\"div\",{className:\"movie-details\"},/*#__PURE__*/React.createElement(\"header\",{className:\"movie-details-header\",style:{background:\"linear-gradient(0deg, rgb(0, 0, 0) 5%, rgba(0, 0, 0, 0.45) 92%), url(https://image.tmdb.org/t/p/original/\".concat(_this.props.movie.backdrop_path,\") center/cover no-repeat border-box, rgb(255, 255, 255)\")}},/*#__PURE__*/React.createElement(\"div\",{className:\"movie-details-header-info-container\"},/*#__PURE__*/React.createElement(\"img\",{className:\"movie-details-poster\",src:\"https://image.tmdb.org/t/p/w500/\".concat(_this.props.movie.poster_path),alt:_this.props.movie.title}),/*#__PURE__*/React.createElement(\"div\",{className:\"movie-details-title\"},/*#__PURE__*/React.createElement(\"h1\",null,_this.props.movie.title),/*#__PURE__*/React.createElement(Rating,{emptySymbol:/*#__PURE__*/React.createElement(FaRegStar,{className:\"movie-details-star-rating\"}),fullSymbol:/*#__PURE__*/React.createElement(FaStar,{className:\"movie-details-star-rating\"}),initialRating:_this.props.movie.vote_average/2,readonly:true}),/*#__PURE__*/React.createElement(FaHeart,{className:\"icon details-fav-heart\",onClick:_this.onClickAddToFavorites}),/*#__PURE__*/React.createElement(\"p\",null,\"\".concat(_this.props.movie.status,\" | \").concat(_this.renderDate(_this.props.movie.release_date),\" |\\n                  \").concat(_this.props.movie.original_language)),/*#__PURE__*/React.createElement(\"p\",{className:\"movie-details-summary-genres\"},renderMovieGenres(_this.props.movie.genres,_this.props.genres))))),/*#__PURE__*/React.createElement(\"main\",{className:\"movie-details-main\"},/*#__PURE__*/React.createElement(\"div\",{className:\"movie-details-summary\"},/*#__PURE__*/React.createElement(\"h2\",null,\"Summary\"),/*#__PURE__*/React.createElement(\"p\",null,_this.props.movie.overview)),_this.renderTrailers(_this.props.trailers),_this.renderCredits(_this.props.credits),_this.renderSimilarMovies(_this.props.similarMovies)));}return;};return _this;}_createClass(MovieDetails,[{key:\"componentDidMount\",value:function componentDidMount(){this.fetchData();}//checks if props changed compares it to previous props\n//checks if id is the same as previous id\n//the props being changed is the id in the URL to make the request to the api using id\n//scroll to the top\n},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){if(prevProps.match.params.id!==this.props.match.params.id){this.fetchData();}window.scrollTo(0,0);}//make api request using action creators\n},{key:\"fetchData\",value:function fetchData(){var id=this.props.match.params.id;this.props.fetchMovieDetails(id);this.props.fetchCredits(id);this.props.fetchTrailers(id);this.props.fetchSimilarMovies(id);this.props.fetchGenres();}},{key:\"renderSimilarMovies\",value:function renderSimilarMovies(similarMovies){if(similarMovies===undefined||similarMovies.length===0){return null;}return/*#__PURE__*/React.createElement(\"div\",{className:\"movie-details-carousel-container\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"movie-details-main-genre\"},\"Similar Movies\"),/*#__PURE__*/React.createElement(Carousel,{movies:similarMovies}));}},{key:\"renderTrailers\",value:function renderTrailers(trailers){if(trailers===undefined||trailers.length===0){return null;}return/*#__PURE__*/React.createElement(\"div\",{className:\"movie-details-carousel-container\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"movie-details-main-genre\"},\"Trailers\"),/*#__PURE__*/React.createElement(TrailersCarousel,{trailers:trailers}));}//if credits data have not loaded return nothing\n},{key:\"renderCredits\",value:function renderCredits(credits){if(credits===undefined||credits.length===0){return null;}return/*#__PURE__*/React.createElement(\"div\",{className:\"movie-details-carousel-container\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"movie-details-main-genre\"},\"Cast\"),/*#__PURE__*/React.createElement(PeopleCarousel,{credits:credits}));}//filter year/month/day from release date\n},{key:\"renderDate\",value:function renderDate(releaseDate){if(releaseDate){var date=releaseDate.split(\"-\");var year=date[0];return year;}return null;}//this method is a callback function from onclick so it must be an arrow function\n},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(React.Fragment,null,this.renderDetails());}}]);return MovieDetails;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{movie:state.movieDetails,credits:state.creditsData.cast,trailers:state.trailersData.results,similarMovies:state.similarMoviesData.results,genres:state.genresData.genres,status:state.postFavoriteStatus.status_message};};export default connect(mapStateToProps,{fetchMovieDetails:fetchMovieDetails,fetchCredits:fetchCredits,fetchTrailers:fetchTrailers,fetchSimilarMovies:fetchSimilarMovies,fetchGenres:fetchGenres,postFavorite:postFavorite})(MovieDetails);","map":{"version":3,"names":["React","connect","FaStar","FaRegStar","FaHeart","Rating","fetchMovieDetails","fetchCredits","fetchTrailers","fetchSimilarMovies","fetchGenres","postFavorite","TrailersCarousel","PeopleCarousel","Carousel","renderMovieGenres","MovieDetails","onClickAddToFavorites","id","props","match","params","document","querySelector","style","color","renderDetails","movie","background","backdrop_path","poster_path","title","vote_average","status","renderDate","release_date","original_language","genres","overview","renderTrailers","trailers","renderCredits","credits","renderSimilarMovies","similarMovies","fetchData","prevProps","window","scrollTo","undefined","length","releaseDate","date","split","year","Component","mapStateToProps","state","movieDetails","creditsData","cast","trailersData","results","similarMoviesData","genresData","postFavoriteStatus","status_message"],"sources":["/Users/cedrickmonesit/Documents/GitHub/film-flix-client/src/components/details/MovieDetails.js"],"sourcesContent":["import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { FaStar, FaRegStar, FaHeart } from \"react-icons/fa\";\nimport Rating from \"react-rating\";\n\nimport {\n  fetchMovieDetails,\n  fetchCredits,\n  fetchTrailers,\n  fetchSimilarMovies,\n  fetchGenres,\n  postFavorite,\n} from \"../../actions\";\nimport \"./movieDetails.scss\";\nimport TrailersCarousel from \"./trailerscarousel/TrailersCarousel.js\";\nimport PeopleCarousel from \"./peoplecarousel/PeopleCarousel\";\nimport Carousel from \"../carousel/Carousel\";\nimport renderMovieGenres from \"../renderMovieGenres\";\n//import Loader from \"../loader/Loader\";\n\nclass MovieDetails extends React.Component {\n  componentDidMount() {\n    this.fetchData();\n  }\n\n  //checks if props changed compares it to previous props\n  //checks if id is the same as previous id\n  //the props being changed is the id in the URL to make the request to the api using id\n  //scroll to the top\n  componentDidUpdate(prevProps) {\n    if (prevProps.match.params.id !== this.props.match.params.id) {\n      this.fetchData();\n    }\n    window.scrollTo(0, 0);\n  }\n\n  //make api request using action creators\n  fetchData() {\n    const id = this.props.match.params.id;\n    this.props.fetchMovieDetails(id);\n    this.props.fetchCredits(id);\n    this.props.fetchTrailers(id);\n    this.props.fetchSimilarMovies(id);\n    this.props.fetchGenres();\n  }\n\n  renderSimilarMovies(similarMovies) {\n    if (similarMovies === undefined || similarMovies.length === 0) {\n      return null;\n    }\n    return (\n      <div className=\"movie-details-carousel-container\">\n        <h1 className=\"movie-details-main-genre\">Similar Movies</h1>\n        <Carousel movies={similarMovies} />\n      </div>\n    );\n  }\n\n  renderTrailers(trailers) {\n    if (trailers === undefined || trailers.length === 0) {\n      return null;\n    }\n    return (\n      <div className=\"movie-details-carousel-container\">\n        <h1 className=\"movie-details-main-genre\">Trailers</h1>\n        <TrailersCarousel trailers={trailers} />\n      </div>\n    );\n  }\n\n  //if credits data have not loaded return nothing\n  renderCredits(credits) {\n    if (credits === undefined || credits.length === 0) {\n      return null;\n    }\n    return (\n      <div className=\"movie-details-carousel-container\">\n        <h1 className=\"movie-details-main-genre\">Cast</h1>\n        <PeopleCarousel credits={credits} />\n      </div>\n    );\n  }\n\n  //filter year/month/day from release date\n  renderDate(releaseDate) {\n    if (releaseDate) {\n      const date = releaseDate.split(\"-\");\n      const year = date[0];\n      return year;\n    }\n    return null;\n  }\n\n  //this method is a callback function from onclick so it must be an arrow function\n  onClickAddToFavorites = () => {\n    const id = this.props.match.params.id;\n    //post action creator to add to favorite movies list\n    this.props.postFavorite(id, \"movie\", true);\n    //changes color to secondary after clicked\n    document.querySelector(\".details-fav-heart\").style.color = \"#fe346e\";\n  };\n\n  renderDetails = () => {\n    if (this.props.movie) {\n      return (\n        <div className=\"movie-details\">\n          <header\n            className=\"movie-details-header\"\n            style={{\n              background: `linear-gradient(0deg, rgb(0, 0, 0) 5%, rgba(0, 0, 0, 0.45) 92%), url(https://image.tmdb.org/t/p/original/${this.props.movie.backdrop_path}) center/cover no-repeat border-box, rgb(255, 255, 255)`,\n            }}\n          >\n            <div className=\"movie-details-header-info-container\">\n              <img\n                className=\"movie-details-poster\"\n                src={`https://image.tmdb.org/t/p/w500/${this.props.movie.poster_path}`}\n                alt={this.props.movie.title}\n              />\n              <div className=\"movie-details-title\">\n                <h1>{this.props.movie.title}</h1>\n                <Rating\n                  emptySymbol={\n                    <FaRegStar className=\"movie-details-star-rating\" />\n                  }\n                  fullSymbol={<FaStar className=\"movie-details-star-rating\" />}\n                  initialRating={this.props.movie.vote_average / 2}\n                  readonly\n                />\n                <FaHeart\n                  className=\"icon details-fav-heart\"\n                  onClick={this.onClickAddToFavorites}\n                />\n                <p>\n                  {`${this.props.movie.status} | ${this.renderDate(\n                    this.props.movie.release_date,\n                  )} |\n                  ${this.props.movie.original_language}`}\n                </p>\n                <p className=\"movie-details-summary-genres\">\n                  {renderMovieGenres(\n                    this.props.movie.genres,\n                    this.props.genres,\n                  )}\n                </p>\n              </div>\n            </div>\n          </header>\n          <main className=\"movie-details-main\">\n            <div className=\"movie-details-summary\">\n              <h2>Summary</h2>\n              <p>{this.props.movie.overview}</p>\n            </div>\n\n            {this.renderTrailers(this.props.trailers)}\n\n            {this.renderCredits(this.props.credits)}\n\n            {this.renderSimilarMovies(this.props.similarMovies)}\n          </main>\n        </div>\n      );\n    }\n    return;\n  };\n  render() {\n    return (\n      <React.Fragment>\n        {/*<Loader lazyload={true} />*/}\n        {this.renderDetails()}\n      </React.Fragment>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    movie: state.movieDetails,\n    credits: state.creditsData.cast,\n    trailers: state.trailersData.results,\n    similarMovies: state.similarMoviesData.results,\n    genres: state.genresData.genres,\n    status: state.postFavoriteStatus.status_message,\n  };\n};\n\nexport default connect(mapStateToProps, {\n  fetchMovieDetails,\n  fetchCredits,\n  fetchTrailers,\n  fetchSimilarMovies,\n  fetchGenres,\n  postFavorite,\n})(MovieDetails);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}