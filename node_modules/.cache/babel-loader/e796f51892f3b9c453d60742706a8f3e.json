{"ast":null,"code":"import _classCallCheck from\"/Users/cedrickmonesit/Documents/GitHub/film-flix-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/cedrickmonesit/Documents/GitHub/film-flix-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/cedrickmonesit/Documents/GitHub/film-flix-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/cedrickmonesit/Documents/GitHub/film-flix-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{connect}from\"react-redux\";import{postFavorite}from\"../../actions\";import{FaStar}from\"react-icons/fa\";import{TiDelete}from\"react-icons/ti\";import history from\"../../history\";import\"./card.scss\";//you must say if the shows props is true so if you are passing an array of shows shows={true}\nvar Card=/*#__PURE__*/function(_React$Component){_inherits(Card,_React$Component);var _super=_createSuper(Card);function Card(){var _this;_classCallCheck(this,Card);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.isDeletable=function(isDeletable){if(isDeletable){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"card-delete-btn-cover\"}),/*#__PURE__*/React.createElement(TiDelete,{className:\"card-delete-btn\"}));}};_this.handleCardClickEvent=function(event,id,type){console.log(id);if(event.target.classList.contains(\"card-delete-btn-cover\")){if(type===\"tv\"||_this.props.type===\"shows\"){_this.props.postFavorite(id,\"tv\",false);document.getElementById(id).style.display=\"none\";}else{_this.props.postFavorite(id,\"movie\",false);document.getElementById(id).style.display=\"none\";}}else if(type===\"tv\"||_this.props.type===\"shows\"){history.push(\"/details/show/\".concat(id));}else{history.push(\"/details/movie/\".concat(id));}};_this.renderCard=function(items){//if movies or shows from api hasn't been loaded will render nothing, prevents error\nif(items){//loop through movies or shows foreach movie return jsx\nreturn items.map(function(item){if(_this.props.type===\"shows\"||item.media_type===\"tv\"){if(item.poster_path){return/*#__PURE__*/React.createElement(\"div\",{key:item.id,id:item.id,className:\"movie-card\",onClickCapture:function onClickCapture(e){_this.handleCardClickEvent(e,item.id,item.media_type);}},/*#__PURE__*/React.createElement(\"div\",{className:\"movie-card-image-container\"},/*#__PURE__*/React.createElement(\"img\",{className:\"movie-card-image\",src:\"https://image.tmdb.org/t/p/w500/\".concat(item.poster_path),alt:item.title}),/*#__PURE__*/React.createElement(\"div\",{className:\"movie-card-rating \"},/*#__PURE__*/React.createElement(FaStar,{className:\"movie-card-star-rating\"}),/*#__PURE__*/React.createElement(\"p\",null,item.vote_average)),_this.isDeletable(_this.props.isDeletable)),/*#__PURE__*/React.createElement(\"p\",{className:\"movie-card-title\"},item.name));}}if(item.poster_path){return/*#__PURE__*/React.createElement(\"div\",{key:item.id,id:item.id,className:\"movie-card\",onClickCapture:function onClickCapture(e){_this.handleCardClickEvent(e,item.id);}},/*#__PURE__*/React.createElement(\"div\",{className:\"movie-card-image-container\"},/*#__PURE__*/React.createElement(\"img\",{className:\"movie-card-image\",src:\"https://image.tmdb.org/t/p/w500/\".concat(item.poster_path),alt:item.title}),/*#__PURE__*/React.createElement(\"div\",{className:\"movie-card-rating \"},/*#__PURE__*/React.createElement(FaStar,{className:\"movie-card-star-rating\"}),/*#__PURE__*/React.createElement(\"p\",null,item.vote_average)),_this.isDeletable(_this.props.isDeletable)),/*#__PURE__*/React.createElement(\"p\",{className:\"movie-card-title\"},item.title));}return null;});}return null;};return _this;}_createClass(Card,[{key:\"render\",value:function render(){return this.renderCard(this.props.items);}}]);return Card;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{status:state.postFavoriteStatus.status_message};};export default connect(mapStateToProps,{postFavorite:postFavorite})(Card);","map":{"version":3,"names":["React","connect","postFavorite","FaStar","TiDelete","history","Card","isDeletable","handleCardClickEvent","event","id","type","console","log","target","classList","contains","props","document","getElementById","style","display","push","renderCard","items","map","item","media_type","poster_path","e","title","vote_average","name","Component","mapStateToProps","state","status","postFavoriteStatus","status_message"],"sources":["/Users/cedrickmonesit/Documents/GitHub/film-flix-client/src/components/card/Card.js"],"sourcesContent":["import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { postFavorite } from \"../../actions\";\nimport { FaStar } from \"react-icons/fa\";\nimport { TiDelete } from \"react-icons/ti\";\n\nimport history from \"../../history\";\nimport \"./card.scss\";\n\n//you must say if the shows props is true so if you are passing an array of shows shows={true}\nclass Card extends React.Component {\n  isDeletable = (isDeletable) => {\n    if (isDeletable) {\n      return (\n        <React.Fragment>\n          <div className=\"card-delete-btn-cover\"></div>\n          <TiDelete className=\"card-delete-btn\" />\n        </React.Fragment>\n      );\n    }\n  };\n\n  //handle target element for event bubbling\n  handleCardClickEvent = (event, id, type) => {\n    console.log(id);\n    if (event.target.classList.contains(\"card-delete-btn-cover\")) {\n      if (type === \"tv\" || this.props.type === \"shows\") {\n        this.props.postFavorite(id, \"tv\", false);\n        document.getElementById(id).style.display = \"none\";\n      } else {\n        this.props.postFavorite(id, \"movie\", false);\n        document.getElementById(id).style.display = \"none\";\n      }\n    } else if (type === \"tv\" || this.props.type === \"shows\") {\n      history.push(`/details/show/${id}`);\n    } else {\n      history.push(`/details/movie/${id}`);\n    }\n  };\n\n  renderCard = (items) => {\n    //if movies or shows from api hasn't been loaded will render nothing, prevents error\n    if (items) {\n      //loop through movies or shows foreach movie return jsx\n      return items.map((item) => {\n        if (this.props.type === \"shows\" || item.media_type === \"tv\") {\n          if (item.poster_path) {\n            return (\n              <div\n                key={item.id}\n                id={item.id}\n                className=\"movie-card\"\n                onClickCapture={(e) => {\n                  this.handleCardClickEvent(e, item.id, item.media_type);\n                }}\n              >\n                <div className=\"movie-card-image-container\">\n                  <img className=\"movie-card-image\" src={`https://image.tmdb.org/t/p/w500/${item.poster_path}`} alt={item.title} />\n                  <div className=\"movie-card-rating \">\n                    <FaStar className=\"movie-card-star-rating\" />\n                    <p>{item.vote_average}</p>\n                  </div>\n                  {this.isDeletable(this.props.isDeletable)}\n                </div>\n                <p className=\"movie-card-title\">{item.name}</p>\n              </div>\n            );\n          }\n        }\n        if (item.poster_path) {\n          return (\n            <div\n              key={item.id}\n              id={item.id}\n              className=\"movie-card\"\n              onClickCapture={(e) => {\n                this.handleCardClickEvent(e, item.id);\n              }}\n            >\n              <div className=\"movie-card-image-container\">\n                <img className=\"movie-card-image\" src={`https://image.tmdb.org/t/p/w500/${item.poster_path}`} alt={item.title} />\n                <div className=\"movie-card-rating \">\n                  <FaStar className=\"movie-card-star-rating\" />\n                  <p>{item.vote_average}</p>\n                </div>\n                {this.isDeletable(this.props.isDeletable)}\n              </div>\n              <p className=\"movie-card-title\">{item.title}</p>\n            </div>\n          );\n        }\n        return null;\n      });\n    }\n    return null;\n  };\n  render() {\n    return this.renderCard(this.props.items);\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    status: state.postFavoriteStatus.status_message,\n  };\n};\n\nexport default connect(mapStateToProps, {\n  postFavorite,\n})(Card);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}